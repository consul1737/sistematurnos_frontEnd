"use strict";(self["webpackChunkpvn_fe"]=self["webpackChunkpvn_fe"]||[]).push([[742],{21742:function(e,s,r){r.r(s),r.d(s,{default:function(){return c}});var t=function(){var e=this,s=e._self._c;return s("v-container",[s("v-alert",{attrs:{type:e.alert.type,dismissible:""},model:{value:e.alert.show,callback:function(s){e.$set(e.alert,"show",s)},expression:"alert.show"}},[e._v(e._s(e.alert.message))]),s("v-row",{attrs:{justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{md:"2",sm:"3"}},[s("v-btn",{staticClass:"primary",on:{click:function(s){e.suForm=!0}}},[e._v("SIGN UP")])],1),s("v-col",{staticClass:"text-center",attrs:{md:"2",sm:"3"}},[s("v-btn",{staticClass:"primary",on:{click:function(s){e.suForm=!1}}},[e._v("SIGN IN")])],1)],1),s("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[s("v-col",{attrs:{md:"6",sm:"6"}},[e.suForm?s("v-card",[s("v-card-title",[e._v("Sign Up")]),s("v-card-text",[s("v-form",{ref:"signupForm",staticClass:"ma-3",on:{submit:function(s){return s.preventDefault(),e.signup.apply(null,arguments)}}},[s("v-text-field",{attrs:{label:"Name","prepend-icon":"mdi-account",rules:e.nameRules},model:{value:e.user.nombre,callback:function(s){e.$set(e.user,"nombre",s)},expression:"user.nombre"}}),s("v-text-field",{attrs:{label:"E-mail","prepend-icon":"mdi-email",rules:e.emailRules},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}}),s("v-text-field",{attrs:{label:"Telefono","prepend-icon":"mdi-phone"},model:{value:e.user.telefono,callback:function(s){e.$set(e.user,"telefono",s)},expression:"user.telefono"}}),s("v-text-field",{attrs:{label:"Ciudad","prepend-icon":"mdi-city"},model:{value:e.user.ciudad,callback:function(s){e.$set(e.user,"ciudad",s)},expression:"user.ciudad"}}),s("v-text-field",{attrs:{label:"Direccion","prepend-icon":"mdi-city"},model:{value:e.user.direccion,callback:function(s){e.$set(e.user,"direccion",s)},expression:"user.direccion"}}),s("v-text-field",{attrs:{label:"Pais","prepend-icon":"mdi-earth"},model:{value:e.user.pais,callback:function(s){e.$set(e.user,"pais",s)},expression:"user.pais"}}),s("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password",rules:e.passwordRules},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}}),s("v-radio-group",{attrs:{row:"",rules:[e=>!!e||"Elija un tipo de usuario"]},model:{value:e.user.rol_id,callback:function(s){e.$set(e.user,"rol_id",s)},expression:"user.rol_id"}},[s("v-radio",{attrs:{label:"Usuario",value:2}}),s("v-radio",{attrs:{label:"Vendedor",value:1}})],1),s("v-btn",{staticClass:"primary mt-3",attrs:{block:"",type:"submit"}},[e._v("Sign Up")])],1)],1)],1):s("v-card",[s("v-card-title",[e._v("Sign in")]),s("v-card-text",[s("v-form",{ref:"signinForm",staticClass:"ma-3",on:{submit:function(s){return s.preventDefault(),e.signin.apply(null,arguments)}}},[s("v-text-field",{attrs:{label:"E-mail","prepend-icon":"mdi-email",rules:e.emailRules},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}}),s("v-text-field",{attrs:{label:"Password","prepend-icon":"mdi-lock",type:"password",rules:e.passwordRules},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}}),s("v-btn",{staticClass:"primary mt-3",attrs:{block:"",type:"submit"}},[e._v("Sign in")])],1)],1)],1)],1)],1)],1)},a=[],i=(r(44114),{data:()=>({alert:{show:!1,message:""},nameRules:[e=>!!e||"Debe colocar el nombre",e=>e&&e.length>=5||"El nombre debe contener más de 5 caracteres"],emailRules:[e=>!!e||"Ingrese su E-mail",e=>/.+@.+\..+/.test(e)||"El E-mail ingresado no es correcto"],passwordRules:[e=>!!e||"Debe ingresar su contraseña",e=>e&&e.length>=5||"La contraseña debe contener más de 5 caracteres"],user:{nombre:"",email:"",telefono:"",ciudad:"",pais:"",direccion:"",password:"",rol_id:""},suForm:!0}),methods:{async signup(){let e=this.$refs.signupForm.validate();if(e)try{const e=await this.axios.post("/signup",this.user);this.$refs.signupForm.reset(),console.log(e)}catch(s){this.alert={show:!0,type:"error",message:"Ocurrió un error en el registro."}}},async signin(){let e=this.$refs.signinForm.validate();if(e)try{const e=await this.axios.post("/signin",this.user);e.data.NotFound?this.alert={show:!0,type:"error",message:"Usuario no encontrado."}:(sessionStorage.setItem("session",JSON.stringify(e.data)),this.$router.push("/home"),this.alert={show:!0,type:"success",message:"Bienvenido"})}catch(s){this.alert={show:!0,type:"error",message:s.response?.data?.message||"Ocurrió un error inesperado."}}else this.alert={show:!0,type:"error",message:"Por favor complete todos los campos correctamente."}},async logout(){try{sessionStorage.removeItem("session"),this.alert={show:!0,type:"success",message:"Sesión cerrada exitosamente."},this.$router.push({name:"profile"})}catch(e){this.alert={show:!0,type:"error",message:"Error al cerrar la sesión."}}}}}),o=i,l=r(81656),n=(0,l.A)(o,t,a,!1,null,null,null),c=n.exports}}]);
//# sourceMappingURL=742.976b91cf.js.map